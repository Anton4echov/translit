<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Реал-тайм транслитерация (англ → рус)</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            max-width: 600px;
            margin: 0 auto;
            padding: 20px;
            line-height: 1.6;
        }
        h1 {
            color: #333;
            text-align: center;
        }
        textarea {
            width: 100%;
            height: 150px;
            padding: 10px;
            margin-bottom: 10px;
            border: 1px solid #ccc;
            border-radius: 4px;
            resize: vertical;
        }
        #output {
            margin-top: 20px;
            padding: 10px;
            border: 1px solid #ddd;
            border-radius: 4px;
            min-height: 50px;
            background-color: #f9f9f9;
            white-space: pre-wrap;
        }
    </style>
</head>
<body>
    <h1>Реал-тайм транслитерация (англ → рус)</h1>
    <textarea id="inputText" placeholder="Введите текст на английском..." autofocus></textarea>
    <div id="output"></div>

    <script>
        const inputText = document.getElementById('inputText');
        const outputDiv = document.getElementById('output');

        const translitMap = {
            'a': 'а', 'b': 'б', 'c': 'ц', 'd': 'д', 'e': 'е', 
            'f': 'ф', 'g': 'г', 'h': 'х', 'i': 'и', 'j': 'й', 
            'k': 'к', 'l': 'л', 'm': 'м', 'n': 'н', 'o': 'о', 
            'p': 'п', 'q': 'к', 'r': 'р', 's': 'с', 't': 'т', 
            'u': 'у', 'v': 'в', 'w': 'в', 'x': 'кс', 'y': 'ы', 
            'z': 'з',
            'A': 'А', 'B': 'Б', 'C': 'Ц', 'D': 'Д', 'E': 'Е', 
            'F': 'Ф', 'G': 'Г', 'H': 'Х', 'I': 'И', 'J': 'Й', 
            'K': 'К', 'L': 'Л', 'M': 'М', 'N': 'Н', 'O': 'О', 
            'P': 'П', 'Q': 'К', 'R': 'Р', 'S': 'С', 'T': 'Т', 
            'U': 'У', 'V': 'В', 'W': 'В', 'X': 'Кс', 'Y': 'Ы', 
            'Z': 'З',
            'sh': 'ш', 'ch': 'ч', 'zh': 'ж', 'yo': 'ё', 'yu': 'ю', 
            'ya': 'я', 'Sh': 'Ш', 'Ch': 'Ч', 'Zh': 'Ж', 'Yo': 'Ё', 
            'Yu': 'Ю', 'Ya': 'Я', 'SH': 'Ш', 'CH': 'Ч', 'ZH': 'Ж', 
            'YO': 'Ё', 'YU': 'Ю', 'YA': 'Я',
            "'": 'ь', '"': 'ъ', '``': 'ъ', '`': 'ь'
        };

        inputText.addEventListener('input', function() {
            let text = this.value;
            let result = '';
            let i = 0;
            
            while (i < text.length) {
                let found = false;
                // Проверяем двухбуквенные сочетания (sh, ch и т.д.)
                if (i + 1 < text.length) {
                    const twoChars = text.substr(i, 2);
                    if (translitMap[twoChars]) {
                        result += translitMap[twoChars];
                        i += 2;
                        found = true;
                    }
                }
                if (!found) {
                    const char = text[i];
                    result += translitMap[char] || char;
                    i++;
                }
            }
            
            outputDiv.textContent = result;
        });
    </script>
</body>
</html>
