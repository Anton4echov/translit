<!DOCTYPE html>
<html lang="ru">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>–û–Ω–ª–∞–π–Ω —Ç—Ä–∞–Ω—Å–ª–∏—Ç–µ—Ä–∞—Ü–∏—è (–∞–Ω–≥–ª–∏–π—Å–∫–∏–π ‚Üí —Ä—É—Å—Å–∫–∏–π)</title>
<style>
  body {
    font-family: "Segoe UI", Arial, sans-serif;
    max-width: 700px;
    margin: 0 auto;
    padding: 10px;
    line-height: 1.4;
    background: #0d0d0d;
    color: #f0f0f0;
  }
  h1 { font-size: 1.5rem; color: #ff5555; text-align: center; text-shadow: 0 0 6px rgba(255,85,85,0.7); margin-bottom: 10px; }
  textarea { width: 100%; height: 100px; padding: 6px; margin-bottom: 6px; border: 1px solid #444; border-radius: 4px; resize: vertical; font-size: 0.9rem; background: #1a1a1a; color: #f0f0f0; }
  #output { margin-top: 6px; padding: 6px; border: 1px solid #444; border-radius: 4px; min-height: 40px; background-color: #111; font-size: 0.95rem; white-space: pre-wrap; }
  button { margin-top: 6px; padding: 6px 12px; font-size: 0.9rem; border: none; border-radius: 4px; background: #ff5555; color: white; cursor: pointer; transition: 0.2s; }
  button:hover { background: #ff3333; box-shadow: 0 0 6px #ff3333; }
  #keyboard { margin-top: 6px; display: flex; flex-wrap: wrap; gap: 3px; justify-content: center; }
  .key { padding: 4px 6px; border-radius: 3px; background: #222; color: #f0f0f0; border: 1px solid #555; cursor: pointer; font-size: 0.8rem; min-width: 24px; text-align: center; user-select: none; line-height: 1.2; }
  .key:hover { background: #333; color: #ff5555; box-shadow: 0 0 4px #ff5555; }
  .adv, .produced { font-size: 0.8rem; margin: 6px 0; text-align:center; }
  .floating-btn { position: fixed; bottom: 15px; right: 15px; width: 50px; height: 50px; border-radius: 50%; background: red; color: white; display: flex; justify-content: center; align-items: center; font-size: 1.5rem; text-decoration: none; box-shadow: 0 0 8px rgba(255,255,255,0.3); animation: spin 3s linear infinite; z-index:1000; }
  @keyframes spin { from{transform:rotate(0deg);} to{transform:rotate(360deg);} }
  .floating-btn:hover { background:#666; box-shadow:0 0 12px #fff; }

  /* Cheat sheet */
  #cheatsheet { margin-top:6px; font-size:0.75rem; color:#ccc; background:#111; border:1px solid #444; border-radius:4px; padding:6px; }
  #cheatsheet table { width: 100%; border-collapse: collapse; }
  #cheatsheet th, #cheatsheet td { border:1px solid #444; padding:2px 4px; text-align:center; }
  #cheatsheet th { background:#222; color:#ff5555; }
</style>
</head>
<body>

<h1>–û–Ω–ª–∞–π–Ω —Ç—Ä–∞–Ω—Å–ª–∏—Ç–µ—Ä–∞—Ü–∏—è</h1>
<div class="adv">–ó–¥–µ—Å—å –º–æ–∂–µ—Ç –±—ã—Ç—å –≤–∞—à–∞ —Ä–µ–∫–ª–∞–º–∞</div>

<textarea id="inputText" placeholder="–í–≤–µ–¥–∏—Ç–µ —Ç–µ–∫—Å—Ç –Ω–∞ –∞–Ω–≥–ª–∏–π—Å–∫–æ–º..." autofocus></textarea>
<div id="keyboard"></div>
<div id="output"></div>
<button id="copyBtn">üìã –°–∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å</button>

<div id="cheatsheet">
  <strong>–ö–æ–º–±–∏–Ω–∞—Ü–∏–∏ –¥–ª—è —Ä—É—Å—Å–∫–∏—Ö –±—É–∫–≤:</strong>
  <table>
    <tr><th>English</th><th>Russian</th><th>English</th><th>Russian</th></tr>
    <tr><td>shch</td><td>—â</td><td>yo</td><td>—ë</td></tr>
    <tr><td>sh</td><td>—à</td><td>yu</td><td>—é</td></tr>
    <tr><td>ch</td><td>—á</td><td>ya</td><td>—è</td></tr>
    <tr><td>zh</td><td>–∂</td><td>'</td><td>—å</td></tr>
    <tr><td>"</td><td>—ä</td><td>y</td><td>—ã</td></tr>
  </table>
</div>

<div class="produced">üöÄ PRODUCED BY</div>
<a href="#" class="floating-btn">‚ô•</a>

<script>
const inputText=document.getElementById('inputText');
const outputDiv=document.getElementById('output');
const copyBtn=document.getElementById('copyBtn');
const keyboardDiv=document.getElementById('keyboard');

const keys=[..."ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",
".",",","?","/",";",":","!","@","#","$","%","&","(",")","-","_","=","+","'","\"","`","~"];

keys.forEach(symbol=>{
  const key=document.createElement('div');
  key.className='key';
  key.textContent=symbol;
  key.addEventListener('click',()=>{
    const start=inputText.selectionStart;
    const end=inputText.selectionEnd;
    inputText.value=inputText.value.substring(0,start)+symbol+inputText.value.substring(end);
    inputText.focus();
    inputText.selectionStart=inputText.selectionEnd=start+symbol.length;
    inputText.dispatchEvent(new Event('input'));
  });
  keyboardDiv.appendChild(key);
});

const translitMap={
  'shch':'—â','Shch':'–©','SHCH':'–©',
  'sch':'—â','Sch':'–©','SCH':'–©',
  'sh':'—à','ch':'—á','zh':'–∂','yo':'—ë','yu':'—é','ya':'—è',
  'Sh':'–®','Ch':'–ß','Zh':'–ñ','Yo':'–Å','Yu':'–Æ','Ya':'–Ø',
  'SH':'–®','CH':'–ß','ZH':'–ñ','YO':'–Å','YU':'–Æ','YA':'–Ø',
  'a':'–∞','b':'–±','c':'—Ü','d':'–¥','e':'–µ','f':'—Ñ','g':'–≥','h':'—Ö','i':'–∏',
  'j':'–π','k':'–∫','l':'–ª','m':'–º','n':'–Ω','o':'–æ','p':'–ø','q':'–∫','r':'—Ä',
  's':'—Å','t':'—Ç','u':'—É','v':'–≤','w':'–≤','x':'–∫—Å','y':'—ã','z':'–∑',
  'A':'–ê','B':'–ë','C':'–¶','D':'–î','E':'–ï','F':'–§','G':'–ì','H':'–•','I':'–ò',
  'J':'–ô','K':'–ö','L':'–õ','M':'–ú','N':'–ù','O':'–û','P':'–ü','Q':'–ö','R':'–†',
  'S':'–°','T':'–¢','U':'–£','V':'–í','W':'–í','X':'–ö—Å','Y':'–´','Z':'–ó',
  "'":'—å', "`":'—å', '"':'—ä','–¨':'–¨','–™':'–™'
};

inputText.addEventListener('input',function(){
  let text=this.value,result='',i=0;
  while(i<text.length){
    let found=false;
    if(i+3<text.length){const four=text.substr(i,4);if(translitMap[four]){result+=translitMap[four];i+=4;found=true;continue;}}
    if(!found && i+2<text.length){const three=text.substr(i,3);if(translitMap[three]){result+=translitMap[three];i+=3;found=true;continue;}}
    if(!found && i+1<text.length){const two=text.substr(i,2);if(translitMap[two]){result+=translitMap[two];i+=2;found=true;continue;}}
    const char=text[i]; result+=translitMap[char]?translitMap[char]:char;
    i++;
  }
  outputDiv.textContent=result;
});

copyBtn.addEventListener('click',()=>{
  const text=outputDiv.textContent;
  if(text.trim()){navigator.clipboard.writeText(text);copyBtn.textContent="‚úÖ –°–∫–æ–ø–∏—Ä–æ–≤–∞–Ω–æ!";setTimeout(()=>copyBtn.textContent="üìã –°–∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å",1500);}
});
</script>
</body>
</html>
